<div class="editor editor-colors"><code><div class="line"><span class="syntax--source syntax--js"><span class="syntax--storage syntax--type syntax--const syntax--js"><span>const</span></span><span>&nbsp;</span><span class="syntax--constant syntax--other syntax--js"><span>lineTokens</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>grammar</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--entity syntax--name syntax--function syntax--js"><span>tokenizeLines</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>o</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--js"><span>fileContents</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div>
<div class="line"><span class="syntax--source syntax--js"><span class="syntax--keyword syntax--control syntax--js"><span>if</span></span><span>&nbsp;</span><span class="syntax--meta syntax--brace syntax--round syntax--js"><span>(</span></span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>lineTokens</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--js"><span>length</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--js"><span>&gt;</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--js"><span>0</span></span><span class="syntax--meta syntax--brace syntax--round syntax--js"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>{</span></span></span></div>
<div class="line"><span class="syntax--source syntax--js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--storage syntax--type syntax--const syntax--js"><span>const</span></span><span>&nbsp;</span><span class="syntax--constant syntax--other syntax--js"><span>lastLineTokens</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>=</span></span><span>&nbsp;lineTokens</span><span class="syntax--meta syntax--brace syntax--square syntax--js"><span>[</span></span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>lineTokens</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--js"><span>length</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--js"><span>-</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--js"><span>1</span></span><span class="syntax--meta syntax--brace syntax--square syntax--js"><span>]</span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div>
<div class="line"><span class="syntax--source syntax--js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--js"><span>if</span></span><span>&nbsp;</span><span class="syntax--meta syntax--brace syntax--round syntax--js"><span>(</span></span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>lastLineTokens</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--js"><span>length</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--js"><span>===</span></span><span>&nbsp;</span><span class="syntax--constant syntax--numeric syntax--decimal syntax--js"><span>1</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--logical syntax--js"><span>&amp;&amp;</span></span><span>&nbsp;lastLineTokens</span><span class="syntax--meta syntax--brace syntax--square syntax--js"><span>[</span></span><span class="syntax--constant syntax--numeric syntax--decimal syntax--js"><span>0</span></span><span class="syntax--meta syntax--brace syntax--square syntax--js"><span>]</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--variable syntax--property syntax--dom syntax--js"><span>value</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--comparison syntax--js"><span>===</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--single syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&#39;</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&#39;</span></span></span><span class="syntax--meta syntax--brace syntax--round syntax--js"><span>)</span></span><span>&nbsp;</span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>{</span></span></span></div>
<div class="line"><span class="syntax--source syntax--js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>lineTokens</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--js"><span>pop</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div>
<div class="line"><span class="syntax--source syntax--js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>}</span></span></span></div>
<div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--brace syntax--curly syntax--js"><span>}</span></span></span></div>
<div class="line"><span class="syntax--source syntax--js"><span class="syntax--storage syntax--type syntax--const syntax--js"><span>const</span></span><span>&nbsp;</span><span class="syntax--constant syntax--other syntax--js"><span>escape</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>=</span></span><span>&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>o</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--js"><span>nbsp</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--ternary syntax--js"><span>?</span></span><span>&nbsp;</span><span>escapeStringNbsp</span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--ternary syntax--js"><span>:</span></span><span>&nbsp;escapeString</span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div>
<div class="line"><span class="syntax--source syntax--js"><span class="syntax--storage syntax--type syntax--const syntax--js"><span>const</span></span><span>&nbsp;</span><span class="syntax--constant syntax--other syntax--js"><span>html</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--operator syntax--assignment syntax--js"><span>=</span></span><span>&nbsp;</span><span class="syntax--meta syntax--brace syntax--square syntax--js"><span>[</span><span>]</span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div>
<div class="line"><span class="syntax--source syntax--js"><span class="syntax--keyword syntax--control syntax--js"><span>if</span></span><span>&nbsp;</span><span class="syntax--meta syntax--brace syntax--round syntax--js"><span>(</span></span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>o</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--js"><span>editorDiv</span></span><span class="syntax--meta syntax--brace syntax--round syntax--js"><span>)</span></span></span></div>
<div class="line"><span class="syntax--source syntax--js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>html</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--js"><span>push</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--string syntax--quoted syntax--template syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>`</span></span><span>&lt;</span><span class="syntax--source syntax--js syntax--embedded syntax--source"><span class="syntax--punctuation syntax--section syntax--embedded syntax--js"><span>${</span></span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>o</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--js"><span>editorDivTag</span></span><span class="syntax--punctuation syntax--section syntax--embedded syntax--js"><span>}</span></span></span><span>&nbsp;class=&quot;</span><span class="syntax--source syntax--js syntax--embedded syntax--source"><span class="syntax--punctuation syntax--section syntax--embedded syntax--js"><span>${</span></span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>o</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--js"><span>editorDivClass</span></span><span class="syntax--punctuation syntax--section syntax--embedded syntax--js"><span>}</span></span></span><span>&quot;&gt;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>`</span></span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div>
<div class="line"><span class="syntax--source syntax--js"><span class="syntax--keyword syntax--control syntax--js"><span>if</span></span><span>&nbsp;</span><span class="syntax--meta syntax--brace syntax--round syntax--js"><span>(</span></span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>o</span></span><span class="syntax--meta syntax--delimiter syntax--property syntax--period syntax--js"><span>.</span></span><span class="syntax--variable syntax--other syntax--property syntax--js"><span>wrapCode</span></span><span class="syntax--meta syntax--brace syntax--round syntax--js"><span>)</span></span></span></div>
<div class="line"><span class="syntax--source syntax--js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--variable syntax--other syntax--object syntax--js"><span>html</span></span><span class="syntax--meta syntax--method-call syntax--js"><span class="syntax--meta syntax--delimiter syntax--method syntax--period syntax--js"><span>.</span></span><span class="syntax--support syntax--function syntax--js"><span>push</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--string syntax--quoted syntax--single syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&#39;</span></span><span>&lt;code&gt;</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&#39;</span></span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span><span class="syntax--punctuation syntax--terminator syntax--statement syntax--js"><span>;</span></span></span></div>
</code></div>